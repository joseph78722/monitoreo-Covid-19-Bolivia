"0","library(dygraphs)"
"0","library(readr)"
"0","library(tidyverse)"
"0","library(xts)"
"0","library(plotly)"
"0","library(ggthemes)"
"0","library(readr)"
"0","library(flexdashboard)"
"0","library(viridis)"
"0","library(hrbrthemes)"
"0","library(highcharter)"
"0","library(httr)"
"0","library(jsonlite)"
"0","##### Cargar datos"
"0","Confirmados <- read_csv(""/Users/jose/Monitoreo Covid-19 Bolivia/data/Confirmados.csv"")"
"2","Parsed with column specification:
cols(
  Fecha = [34mcol_date(format = """")[39m,
  Confirmados = [32mcol_double()[39m
)
"
"0","Confirmados$Fecha <- as.Date(Confirmados$Fecha)"
"0",""
"0","Recuperados <- read_csv(""/Users/jose/Monitoreo Covid-19 Bolivia/data/Recuperados.csv"")"
"2","Parsed with column specification:
cols(
  Fecha = [34mcol_date(format = """")[39m,
  Recuperados = [32mcol_double()[39m
)
"
"0","Recuperados$Fecha <- as.Date(Recuperados$Fecha)"
"0",""
"0","Fallecidos <- read_csv(""/Users/jose/Monitoreo Covid-19 Bolivia/data/Fallecidos.csv"")"
"2","Parsed with column specification:
cols(
  Fecha = [34mcol_date(format = """")[39m,
  Fallecidos = [32mcol_double()[39m
)
"
"0","Fallecidos$Fecha <- as.Date(Fallecidos$Fecha)"
"0",""
"0","Nuevos_casos <- read_csv(""/Users/jose/Monitoreo Covid-19 Bolivia/data/Nuevos_casos.csv"")"
"2","Parsed with column specification:
cols(
  Fecha = [34mcol_date(format = """")[39m,
  Nuevos_casos = [32mcol_double()[39m
)
"
"0","Nuevos_casos$Fecha<- as.Date(Nuevos_casos$Fecha)"
"0","####"
"0","###### Cargar API"
"0"," url = ""https://covid-193.p.rapidapi.com/statistics"""
"0",""
"0","queryString <- list(country = ""bolivia"")"
"0",""
"0","headers = add_headers("
"0","  'x-rapidapi-host'= ""covid-193.p.rapidapi.com"","
"0","  'x-rapidapi-key'= ""27116f90b8msh7152626f9b46b5ep16ab32jsn17e2accf574c"""
"0",")"
"0",""
"0","API <- GET(url, query = queryString,  headers)"
"0","###"
"0","#####Agregar datos"
"0","datos = fromJSON(rawToChar(API$content))"
"0","datos <- datos$response"
"0","fecha <- Sys.Date()"
"0","acumulado <- datos$cases"
"0","acumulado <- acumulado$total"
"0",""
"0","Agregar_confirmado <- data.frame(""Fecha"" = fecha, "
"0","                    ""Confirmados"" = acumulado)"
"0",""
"0","total_Confirmados <- rbind(Confirmados, Agregar_confirmado)"
"0","total_Confirmados$Confirmados <- as.integer(total_Confirmados$Confirmados)"
"0","setwd(""/Users/jose/Monitoreo Covid-19 Bolivia/data"")"
"2","The working directory was changed to /Users/jose/Monitoreo Covid-19 Bolivia/data inside a notebook chunk. The working directory will be reset when the chunk is finished running. Use the knitr root.dir option in the setup chunk to change the working directory for notebook chunks."
"0","write.csv(total_Confirmados,""Confirmados.csv"", row.names = FALSE)"
"0",""
"0","acumulado_fallecidos <-datos$deaths"
"0","acumulado_fallecidos <-acumulado_fallecidos$total"
"0",""
"0","Agregar_fallecidos <- data.frame(""Fecha"" = fecha, "
"0","                    ""Fallecidos"" = acumulado_fallecidos)"
"0",""
"0","total_fallecidos <- rbind(Fallecidos, Agregar_fallecidos)"
"0",""
"0","write.csv(total_fallecidos,""Fallecidos.csv"", row.names = FALSE)"
"0",""
"0","acumulado_recuperados <-datos$cases"
"0","acumulado_recuperados <-acumulado_recuperados$recovered"
"0","Agregar_recuperados <- data.frame(""Fecha"" = fecha, "
"0","                    ""Recuperados"" = acumulado_recuperados)"
"0","total_recuperados <- rbind(Recuperados, Agregar_recuperados)"
"0","total_recuperados$Recuperados <- as.integer(total_recuperados$Recuperados)"
"0","write.csv(total_recuperados,""Recuperados.csv"", row.names = FALSE)"
"0",""
"0",""
"0","registro_nuevos <- datos$cases"
"0","registro_nuevos$new <- substr(registro_nuevos$new, star=2, stop=5)"
"0",""
"0","registro_nuevos$new <- as.integer(registro_nuevos$new)"
"0","nuevo <- registro_nuevos$new"
"0","Agregar_nuevo <- data.frame(""Fecha"" = fecha, "
"0","                    ""Nuevos_casos"" = nuevo)"
"0","nuevo_nuevos_casos<- rbind(Nuevos_casos, Agregar_nuevo) "
"0","write.csv(nuevo_nuevos_casos,""Nuevos_casos.csv"", row.names = FALSE)"
"0",""
"0",""
"0","nuevas_muertes <- datos$deaths"
"0","nuevas_muertes$new <- substr(nuevas_muertes$new, star=2, stop=4)"
"0","nuevas_muertes <- nuevas_muertes$new"
"0",""
"0","activos <- datos$cases"
"0","activos <- activos$active"
"0",""
